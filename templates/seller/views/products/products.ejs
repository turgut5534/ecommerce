<%- include('../../partials/head' , { title: 'Products' }) %>
    <%- include('../../partials/sidebar') %>
        <%- include('../../partials/header') %>

            <div class="container-xxl flex-grow-1 container-p-y">


                <h4 class="fw-bold py-3 mb-4">Products</h4>

                <div class="row">
                    <!-- Bootstrap carousel -->
                    <% if (products.length){ %>
                        <% products.forEach((product) => { %>
                            <div class="col-12 col-lg-3 product-<%= product.product.id %>">

                                <div id="carouselExample" class="carousel slide" data-bs-ride="carousel">
                                    <ol class="carousel-indicators">
                                        <li data-bs-target="#carouselExample" data-bs-slide-to="0" class="active"></li>
                                        <li data-bs-target="#carouselExample" data-bs-slide-to="1"></li>
                                        <li data-bs-target="#carouselExample" data-bs-slide-to="2"></li>
                                    </ol>
                                    <div class="carousel-inner">

      
                                        <% let first = true %>
                                        <% product.product.product_files.forEach((file) => { %>
                                            <div class="carousel-item <%= first ? 'active' : '' %>">
                                            <img class="d-block w-100" src="/products/<%= file.filename %>" alt="<%= file.filename %>" />
                                            <div class="carousel-caption d-none d-md-block">
                                                <h3><%= product.product.name %></h3>
                                                <p><%= product.product.name %>
                                                </p>
                                            </div>
                                        </div>
                                        <% first = false %>
                                        <% }) %>

                                    </div>
                                    <a class="carousel-control-prev" href="#carouselExample" role="button" data-bs-slide="prev">
                                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                        <span class="visually-hidden">Previous</span>
                                    </a>
                                    <a class="carousel-control-next" href="#carouselExample" role="button" data-bs-slide="next">
                                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                        <span class="visually-hidden">Next</span>
                                    </a>
                                    
                                </div>

                                <div class="mt-3">
                                    <a class="btn btn-primary" href="/seller/products/edit/<%= product.product.id %>">Edit</a>
                                    <a class="btn btn-danger delete-data" data-title="<%= product.product.name %>" data-data="product" data-id="<%= product.product.id %>" href="javascript:;" data-href="/seller/products/delete/<%= product.product.id %>">Delete</a>
                                </div>
                                    
                            </div>
                        <% }) %>
                    <% }else{%>
                        <p>No products</p>
                    <% } %>
                </div>



            </div>

            

            <%- include('../../partials/footer') %>